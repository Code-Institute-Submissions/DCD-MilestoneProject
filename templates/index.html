{% extends 'base.html' %} {% block content %}
<div class="col s12 m12 l10 offset-l2 center-align">
    <div class="row">
        <div class="col s12 m12 l6" id="cuisine_pie"></div>
        <div class="col s12 m12 l6" id="origin_pie"></div>
    </div>
    <div class="row">
        <div class="s12">
            
        </div>
    </div>
</div>
{% endblock %}

{% block script %}
<script>
    var pie = new d3pie("cuisine_pie", {
        header: {
            title: {
                text: "Recipes by Cuisine",
                fontSize: 24
            }
        },
        data: {
            content: {{ cuisine_count|tojson }}
        },
        callbacks: {
            onClickSegment: function(a) {
                loc = "{{ url_for('recipes_by_cuisine', cuisine="") }}" + a.data.label;
                location.href = loc;
            }
        }
    });

    var pie2 = new d3pie("origin_pie", {
        header: {
            title: {
                text: "Recipes by Country of Origin",
                fontSize: 24
            }
        },
        data: {
            content: {{ origin_count|tojson }}
        },
        callbacks: {
            onClickSegment: function(a) {
                loc = "{{ url_for('recipes_by_origin', origin="") }}" + a.data.label;
                location.href = loc;
            }
        }
    });
</script>
{% endblock %}